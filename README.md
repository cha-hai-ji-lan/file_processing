# 递归迭代哈希映射处理批量文件

---

## 组件一 : 初始化解析组件

**不依赖第三方库**

<u>python版本： 3.12</u>

**<u>版本 0.1</u>**

## **主题**: 开始与归零

**简介**：

> 通过对目标路径检索解析将解析数据存入分支缓存, 解析完当前目录后将分支缓存存入总缓存池 并递归迭代解析下一层级所有目录,全部解析后将栈内缓存写入输出存根日志,并更新当前操作存根路径为最新存根
>
> 当前提供基础初始化与基础文件批量删除接口



### **版本0.1介绍:**

**组件一 [AnalyticalPaper]**

>继承自 基础对象 [FileProcessingRoot] 与 [DataOperation]
>
>作用
>
>> - 解析目标路径及其全部下属文件夹与文件并存入栈内缓存池
>> - 解析统计所有文件 存根记录受保护文件路径
>> - 解析后的数据以json文件形式写入存根日志

 

**[FileProcessingRoot]** 

 作用

> - 重置基础日志操作更新设置。| 恢复初始化设置
> - 重置受保护文件日志存根设置。
> - 重置日志文件。
> - 初始化json设置与所有存根目录。

**[DataOperation]**

作用

> - 提供批量处理文件各类接口
>
> - 目前0.1版本提供各类删除功能
>
>   `cleanDirectory`: **通过模式选项选择不同删除策略**
>
>   > - <u>模式 1 递归清理全部空文件夹</u>`__cleanEmptyFolder`
>   > - <u>模式 2 定向名字清理文件</u>`__cleanTargetNameFiles`
>   > - <u>模式 3 定向扩展名清理文件</u>`__cleanTargetFileExtensionsFiles`
>   > - <u>模式 4 定向文件大小清理文件 获得文件清除边界</u>`__cleanTargetSizeAreaFiles`



`__cleanEmptyFolder`

> 递归迭代 寻找清理所有空目录


`__cleanTargetNameFiles`

> 递归迭代 寻找待清理目标名字的文件
>
> > - 模式 1 默认模式 只清除目标名字的文件
> > - 模式 2 智能模式 清除目标名字的文件夹（包括所有下属文件或文件夹）
> > - 模式 3 强力模式 清除目标名字的文件和目标名字的文件夹（包括所有下属文件或文件夹）
> > - 模式 4 模糊模式 清除包含该目标名称的文件和文件夹


`__cleanTargetFileExtensionsFiles`

> 递归迭代 寻找待清理目标后缀的文件
> 
> > - 模式 1 默认模式 只清除当前目录目标后缀的文件
> > - 模式 2 增强模式 清除目标后缀的文件（包括其含有下属文件夹所有下属目标后缀文件）



`__cleanTargetSizeAreaFiles`

> 递归迭代 寻找待清理目标大小的文件
>
> > - 模式 1 收敛默认模式 只清除当前目录小于(不包含边界s大小)字节边界的文件
> > 
> > - 模式 2 收敛加强模式 清除小于(不包含边界大小)字节边界的文件（包括其含有下属文件夹所有目标文件）
> > 
> > - 模式 3 收敛强力模式 清除小于(包含边界大小)字节边界的文件（包括其含有下属文件夹所有目标文件）
> > 
> > - 模式 4 扩展模式    只清除当前目录大于(不包含边界大小)字节边界的文件
> > 
> > - 模式 5 扩展加强模式 清除大于(不包含边界大小)字节边界的文件（包括其含有下属文件夹所有目标文件）
> > 
> > - 模式 6 扩展强力模式 清除大于(包含边界大小)字节边界的文件（包括其含有下属文件夹所有目标文件）
> > 
> > - 模式 7 扩散局限模式 只清除当前目录接近目标边界大小的文件(包含边界大小)
> > 
> > - 模式 8 扩散加强模式 清除接近目标边界大小的文件(包含边界大小)（包括其含有下属文件夹所有目标文件）

每次操作后都会将存根更新并写入新存根文件，并更新设置内当前操作存根索引（操作存根默认最多保留10个历史版本超过10个最新存根将覆盖历史最早存根 以此为后续功能保留9个回滚量）

一般存根文件名 ：为当时产生时间精确到分钟 

​				**示例：5_2024_10_13_1_48.json**

设置记录存根索引：为当时产生时间精确到微秒 以保证文件名的独一无二防止检索冲突 

​				**示例：2024-10-13-1-48-1-932984**



==目前最大测试解析案例 单次解析文件及文件夹数量共计 ：1546014个 ， 文件总计大小为 ：139G 可正确解析并操纵==

<img src="assets\01.png">

存根内容：

<img src="assets\02.png">

**内置彩蛋一个**

**版本0.2预期：**

增加 基础组件二 批量压缩 解压缩 模块

提供多种压缩文件处理策略

增加更多工具以适应各类处理方式

修复当前部分bug

[增加目标文件查询功能]



版本1.0： 提供图形化操作界面以扩展资源管理器功能